{"version":3,"sources":["../../fs (ignored)","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/login/login.ts","../../src/pages/sign-up/sign-up.ts","../../src/pages/image-upload/image-upload.ts","../../src/providers/s3-service/s3-service.ts","../../src/providers/dynamodb-service/dynamodb-service.ts","../../src/shared/translation-state.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/shared/config.ts","../../src/providers/cognito-service/cognito-service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 118\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 127;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 127\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 168;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 168\n// module chunks = 0","import { Component } from \"@angular/core\";\r\nimport { NavController, NavParams, LoadingController } from \"ionic-angular\";\r\nimport { CognitoServiceProvider } from \"../../providers/cognito-service/cognito-service\";\r\nimport { SignUpPage } from \"../../pages/sign-up/sign-up\";\r\nimport { ImageUploadPage } from \"../../pages/image-upload/image-upload\";\r\n\r\n@Component({\r\n  selector: \"page-login\",\r\n  templateUrl: \"login.html\"\r\n})\r\nexport class LoginPage {\r\n  username: string;\r\n  password: string;\r\n  signUpPage = SignUpPage;\r\n\r\n  constructor(public navCtrl: NavController, public CognitoSerive: CognitoServiceProvider, public loadingCtrl: LoadingController) {}\r\n\r\n  login() {\r\n    let loading = this.loadingCtrl.create();\r\n    loading.present();\r\n\r\n    this.CognitoSerive.authenticate(this.username, this.password).then(\r\n      res => {\r\n        loading.dismiss();\r\n        this.navCtrl.setRoot(ImageUploadPage);\r\n      },\r\n      err => {\r\n        loading.dismiss();\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from \"@angular/core\";\r\nimport { NavController, NavParams, AlertController } from \"ionic-angular\";\r\n\r\nimport { CognitoServiceProvider } from \"../../providers/cognito-service/cognito-service\";\r\n\r\n@Component({\r\n  selector: \"page-sign-up\",\r\n  templateUrl: \"sign-up.html\"\r\n})\r\nexport class SignUpPage {\r\n  email: string;\r\n  password: string;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public alertController: AlertController,\r\n    public CognitoService: CognitoServiceProvider\r\n  ) {}\r\n\r\n  register() {\r\n    this.CognitoService.signUp(this.email, this.password).then(\r\n      res => {\r\n        this.promptVerificationCode();\r\n      },\r\n      err => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  promptVerificationCode() {\r\n    let alert = this.alertController.create({\r\n      title: \"Enter Verfication Code\",\r\n      inputs: [\r\n        {\r\n          name: \"VerificationCode\",\r\n          placeholder: \"Verification Code\"\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"Cancel\",\r\n          role: \"cancel\",\r\n          handler: data => {\r\n            console.log(\"Cancel clicked\");\r\n          }\r\n        },\r\n        {\r\n          text: \"Verify\",\r\n          handler: data => {\r\n            this.verifyUser(data.VerificationCode);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  verifyUser(verificationCode) {\r\n    this.CognitoService.confirmUser(verificationCode, this.email).then(\r\n      res => {\r\n        console.log(res);\r\n      },\r\n      err => {\r\n        alert(err.message);\r\n      }\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sign-up/sign-up.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport {\r\n  NavController,\r\n  NavParams,\r\n  Platform,\r\n  LoadingController,\r\n  AlertController\r\n} from \"ionic-angular\";\r\nimport { CognitoServiceProvider } from \"../../providers/cognito-service/cognito-service\";\r\nimport { Camera, CameraOptions } from \"@ionic-native/camera\";\r\nimport { AngularCropperjsComponent } from 'angular-cropperjs';\r\nimport { S3ServiceProvider } from \"../../providers/s3-service/s3-service\";\r\nimport { DynamodbServiceProvider } from \"../../providers/dynamodb-service/dynamodb-service\";\r\nimport { config } from \"../../shared/config\";\r\nimport { state } from \"../../shared/translation-state\"\r\n\r\n\r\n@Component({\r\n  selector: \"page-image-upload\",\r\n  templateUrl: \"image-upload.html\"\r\n})\r\nexport class ImageUploadPage {\r\n  public imageData: string;\r\n  public imageView: string;\r\n  public imageId: number;\r\n  public imageName: string;\r\n  public imageDate: string;\r\n  public progressPercent = 0;\r\n  public progressMsg = \"\";\r\n  public state;\r\n  \r\n  cropperOptions: any;\r\n  croppedImage = null;\r\n \r\n  myImage = null;\r\n  scaleValX = 1;\r\n  scaleValY = 1;\r\n  @ViewChild('angularCropper') public angularCropper: AngularCropperjsComponent;\r\n  \r\n  constructor(\r\n    public navCtrl: NavController, public navParams: NavParams, public cognitoService: CognitoServiceProvider,\r\n      public platform: Platform, private camera: Camera, public s3Service: S3ServiceProvider, private loader: AlertController,\r\n      private dynamoService: DynamodbServiceProvider\r\n  ) { \r\n    this.state = state;\r\n    this.cropperOptions = {\r\n      dragMode: 'crop',\r\n      aspectRatio: 1,\r\n      autoCrop: true,\r\n      movable: true,\r\n      zoomable: true,\r\n      scalable: true,\r\n      autoCropArea: 0.8,\r\n    };\r\n  }\r\n\r\n  openCamera() {\r\n    // this.setProgress(56, 'Getting translation token.');\r\n    this.platform.ready().then(readySource => {\r\n      const options: CameraOptions = {\r\n        quality: 90,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE,\r\n        targetHeight: 1920,\r\n        targetWidth: 1920,\r\n        correctOrientation: true\r\n      };\r\n\r\n      this.camera.getPicture(options).then(\r\n\r\n        imageData => {\r\n          console.log();\r\n          \r\n          this.imageView = \"data:image/jpeg;base64,\" + imageData;\r\n          this.imageData = imageData;\r\n          let d = new Date();\r\n          this.imageDate = d.toJSON().replace('T', ' ').replace(/\\..+/, '');\r\n          this.imageName = d.getTime().toString();\r\n          this.imageId = d.getTime();\r\n        },\r\n        err => {\r\n          alert(\"An error occurred on camera. \");\r\n          console.log(\"Error on camera\", err);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  uploadPhoto() {\r\n    // let loading = this.loader.create({\r\n    //   title: 'Wait',\r\n    //   subTitle: 'Uploading photo. Please wait...'\r\n    // });\r\n    // loading.present();\r\n\r\n    this.setProgress(5, 'Getting translation token.');\r\n\r\n    this.cognitoService.getLoggedUser().then(userToken => {\r\n\r\n      this.setProgress(10, 'Storing photo metadata.');\r\n      this.dynamoService.insert(userToken, this.imageName + \".jpg\", config.pushRegisterId, this.imageDate).then( data => {\r\n\r\n        this.setProgress(25, 'Uploading photo.');\r\n        this.s3Service.upload(this.imageData, this.imageName + \".jpg\", userToken).then(\r\n          res => {\r\n            // loading.dismiss();\r\n            // this.imageName = \"\";\r\n            // this.imageData = \"\";\r\n            this.setProgress(50, 'Processing photo. You will recieve a notification when its complete.');\r\n            // alert(\"Photo uploaded. You will recieve a notification when translation proccess is complete.\");\r\n          },\r\n          err => {\r\n            // loading.dismiss();\r\n            alert(\"An error occurred when uploading photo.\");\r\n            console.log(err);\r\n          }\r\n        );\r\n      }, err => {\r\n        // loading.dismiss();\r\n        alert(\"An error occurred when saving photo information.\");\r\n      });\r\n\r\n    })\r\n    .catch(err => {\r\n      // loading.dismiss();\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  setProgress(percent, message) {\r\n    state.progressPercent = percent;\r\n    state.progressMessage = message;\r\n  }\r\n\r\n  reset() {\r\n    \r\n    this.angularCropper.cropper.reset();\r\n  }\r\n \r\n  clear() {\r\n    \r\n    this.angularCropper.cropper.clear();\r\n  }\r\n \r\n  rotate() {\r\n    this.angularCropper.cropper.rotate(90);\r\n  }\r\n \r\n  zoom(zoomIn: boolean) {\r\n    let factor = zoomIn ? 0.1 : -0.1;\r\n    this.angularCropper.cropper.zoom(factor);\r\n  }\r\n \r\n  scaleX() {\r\n    this.scaleValX = this.scaleValX * -1;\r\n    this.angularCropper.cropper.scaleX(this.scaleValX);\r\n  }\r\n \r\n  scaleY() {\r\n    this.scaleValY = this.scaleValY * -1;\r\n    this.angularCropper.cropper.scaleY(this.scaleValY);\r\n  }\r\n \r\n  move(x, y) {\r\n    this.angularCropper.cropper.move(x, y);\r\n  }\r\n \r\n  save() {\r\n    let croppedImgB64String: string = this.angularCropper.cropper.getCroppedCanvas().toDataURL('image/jpeg', (100 / 100));\r\n    this.croppedImage = croppedImgB64String;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-upload/image-upload.ts","import { Injectable } from \"@angular/core\";\r\nimport * as aws from \"aws-sdk\";\r\nimport { config } from \"../../shared/config\";\r\n\r\n@Injectable()\r\nexport class S3ServiceProvider {\r\n\r\n  upload(image, imageName, accessToken) {\r\n    return new Promise((resolve, reject) => {\r\n      aws.config.region = config.region;\r\n      let loginUrl = \"cognito-idp.\" + config.region +\".amazonaws.com/\" + config.cognito.UserPoolId;\r\n      aws.config.credentials = new aws.CognitoIdentityCredentials({\r\n        IdentityPoolId: config.cognitoIdentity.identityPoolId,\r\n        Logins: {\r\n          [loginUrl]: accessToken\r\n        }\r\n      });\r\n\r\n      var s3 = new aws.S3({\r\n        apiVersion: \"2006-03-01\",\r\n        params: { Bucket: config.s3.bucketName }\r\n      });\r\n\r\n      let buf = new Buffer(image, \"base64\");\r\n\r\n      var data = {\r\n        Bucket: config.s3.bucketName,\r\n        Key: imageName,\r\n        Body: buf,\r\n        ContentEncoding: \"base64\",\r\n        ContentType: \"image/jpeg\"\r\n      };\r\n\r\n      s3.putObject(data, (err, res) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          resolve(res);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/s3-service/s3-service.ts","import { Injectable } from '@angular/core';\nimport * as aws from \"aws-sdk\";\nimport { config } from \"../../shared/config\";\n\n\n@Injectable()\nexport class DynamodbServiceProvider {\n\n  constructor() {\n    console.log('Hello DynamodbServiceProvider Provider');\n  }\n\n  insert(accessToken, key: string, pushRegisterId: string, time: string){\n    return new Promise( async (resolve, reject) => {\n      aws.config.region = config.region;\n      let loginUrl = \"cognito-idp.\" + config.region +\".amazonaws.com/\" + config.cognito.UserPoolId;\n      aws.config.credentials = new aws.CognitoIdentityCredentials({\n        IdentityPoolId: config.cognitoIdentity.identityPoolId,\n        Logins: {\n          [loginUrl]: accessToken\n        },\n      });\n\n      var db = new aws.DynamoDB();\n\n      var item = {\n        \"TableName\": \"awsdemo\",\n        \"Item\": {\n          \"photo_s3_key\": {\n            \"S\": key\n          },\n          \"time\": {\n            \"S\": time\n          },\n          \"deviceId\": {\n            \"S\": pushRegisterId\n          }\n        }\n      };\n\n      console.log(item.Item);\n\n      await db.putItem(item, function(err, data) {\n        if (err) {\n          reject(err);\n          console.log('ERROR: Dynamo failed: ', err);\n        }\n        else {\n          resolve(data);\n          console.log('Dynamo Success: ', data);\n        }\n    });\n\n\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/dynamodb-service/dynamodb-service.ts","export var state = {\r\n    progressPercent: 0,\r\n    progressMessage: \"\",\r\n    imageView: \"\",\r\n    originalText: \"\",\r\n    translatedText: \"\",\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shared/translation-state.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from \"@angular/platform-browser\";\r\nimport { ErrorHandler, NgModule } from \"@angular/core\";\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from \"ionic-angular\";\r\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\r\nimport { StatusBar } from \"@ionic-native/status-bar\";\r\n\r\nimport { MyApp } from \"./app.component\";\r\nimport { LoginPage } from \"../pages/login/login\";\r\nimport { SignUpPage } from \"../pages/sign-up/sign-up\";\r\nimport { ImageUploadPage } from \"../pages/image-upload/image-upload\";\r\nimport { CognitoServiceProvider } from '../providers/cognito-service/cognito-service';\r\nimport { S3ServiceProvider } from '../providers/s3-service/s3-service';\r\nimport { DynamodbServiceProvider } from '../providers/dynamodb-service/dynamodb-service';\r\n\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { Camera } from \"@ionic-native/camera\";\r\nimport { AngularCropperjsModule } from 'angular-cropperjs'\r\nimport { Push } from \"@ionic-native/push\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp, \r\n    LoginPage,\r\n    SignUpPage,\r\n    ImageUploadPage,\r\n  ],\r\n  imports: [\r\n    BrowserModule, \r\n    AngularCropperjsModule,\r\n    IonicModule.forRoot(MyApp),\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [MyApp, LoginPage, SignUpPage, ImageUploadPage],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\r\n    CognitoServiceProvider,\r\n    S3ServiceProvider,\r\n    DynamodbServiceProvider,\r\n    Camera,\r\n    Push,\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform, AlertController} from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { Push, PushObject } from '@ionic-native/push';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { config } from '../shared/config';\r\nimport { state } from \"../shared/translation-state\"\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage:any = LoginPage;\r\n\r\n  constructor(platform: Platform,\r\n    splashScreen: SplashScreen,\r\n    private statusBar: StatusBar,\r\n    public push: Push,\r\n    public alertCtrl: AlertController,\r\n  ) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      \r\n      this.statusBar.backgroundColorByHexString('#3171e0');\r\n      this.statusBar.styleLightContent();\r\n      this.initPushNotification();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n\r\n  initPushNotification() {\r\n\r\n    const pushObject: PushObject = this.push.init(config.pushOptions);\r\n\r\n    pushObject.on('registration').subscribe((data: any) => {\r\n      console.log('device token:', data.registrationId);\r\n\r\n      config.pushRegisterId = data.registrationId;\r\n\r\n      // const alert = this.alertCtrl.create({\r\n      //   title: 'device token',\r\n      //   message: data.registrationId,\r\n      //   buttons: ['OK']\r\n      // });\r\n      // alert.present();\r\n    });\r\n\r\n    pushObject.on('notification').subscribe( async (data: any) => {\r\n      console.log('recieved notification data: ', JSON.stringify( data));\r\n      let d = data.additionalData;\r\n\r\n      console.log(this.rootPage);\r\n      console.log(LoginPage);\r\n      if (!d.foreground && state.progressPercent < 20) {\r\n        // const alert = await this.alertCtrl.create({\r\n        //   title: 'clicked on',\r\n        //   message: 'you clicked on the notification!',\r\n        //   buttons: ['OK']\r\n        // });\r\n        // alert.present();\r\n\r\n        //coming from notification click directly show translation\r\n        this.showTranslation(d.imageKey, d.imageDate, d.originalText, d.translatedText);\r\n      }\r\n\r\n      state.originalText = d.originalText;\r\n      state.translatedText = d.translatedText;\r\n      state.progressPercent = 100;\r\n      state.progressMessage = \"Translation complete.\";\r\n    });\r\n\r\n    pushObject.on('error').subscribe(error => console.error('Error with Push plugin', error));\r\n  }\r\n\r\n  showTranslation(imageKey, imageDate, originalText, translatedText) { \r\n    console.log(\"showTranslation() called\", imageKey, imageDate, originalText, translatedText);\r\n    \r\n    let alert = this.alertCtrl.create({\r\n      title: \"Translation\",\r\n      message: \"Original text: \" + originalText + \" - Translation: \" + translatedText,\r\n      buttons: ['Ok']\r\n    });\r\n\r\n    alert.present();\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { PushOptions } from '@ionic-native/push';\r\n\r\n// change this options according to your aws account\r\n// this values are randomly generated (excluding region) to let you know what they actually look like \r\nexport var config = {\r\n    region: 'eu-west-1',\r\n    cognito: {\r\n        UserPoolId: 'eu-west-1_Rlwf6bIWy',\r\n        ClientId: '7fgvkf0p3atfdtg3csbllhc937'\r\n    },\r\n    cognitoIdentity: {\r\n        identityPoolId: 'eu-west-1:979e73b1-8825-4de3-bc24-bee699f60e15',\r\n    },\r\n    s3: {\r\n        bucketName: 'awsdemo-8000'\r\n    },\r\n    pushOptions: <PushOptions> {\r\n        android: {\r\n          senderID: '119126056487'\r\n        }\r\n    },\r\n    pushRegisterId: '', // keep this empty\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shared/config.ts","import { Injectable } from \"@angular/core\";\r\nimport * as AWSCognito from \"amazon-cognito-identity-js\";\r\nimport { config } from \"../../shared/config\"\r\n\r\n@Injectable()\r\nexport class CognitoServiceProvider {\r\n  userPool = new AWSCognito.CognitoUserPool(config.cognito);\r\n\r\n  signUp(email, password) {\r\n    return new Promise((resolve, reject) => {\r\n      let userAttribute = [];\r\n      userAttribute.push(\r\n        new AWSCognito.CognitoUserAttribute({ Name: \"email\", Value: email })\r\n      );\r\n\r\n      this.userPool.signUp(email, password, userAttribute, null, function(\r\n        err,\r\n        result\r\n      ) {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          resolve(result);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  confirmUser(verificationCode, userName) {\r\n    return new Promise((resolve, reject) => {\r\n      const cognitoUser = new AWSCognito.CognitoUser({\r\n        Username: userName,\r\n        Pool: this.userPool\r\n      });\r\n\r\n      cognitoUser.confirmRegistration(verificationCode, true, function(\r\n        err,\r\n        result\r\n      ) {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          resolve(result);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  authenticate(email, password) {\r\n    return new Promise((resolve, reject) => {\r\n      const authDetails = new AWSCognito.AuthenticationDetails({\r\n        Username: email,\r\n        Password: password\r\n      });\r\n\r\n      const cognitoUser = new AWSCognito.CognitoUser({\r\n        Username: email,\r\n        Pool: this.userPool\r\n      });\r\n\r\n      cognitoUser.authenticateUser(authDetails, {\r\n        onSuccess: result => {\r\n          resolve(result.getAccessToken().getJwtToken());\r\n        },\r\n        onFailure: err => {\r\n          reject(err);\r\n        },\r\n        newPasswordRequired: userAttributes => {\r\n          // User was signed up by an admin and must provide new\r\n          // password and required attributes, if any, to complete\r\n          // authentication.\r\n\r\n          // the api doesn't accept this field back\r\n          userAttributes.email = email;\r\n          delete userAttributes.email_verified;\r\n\r\n          cognitoUser.completeNewPasswordChallenge(password, userAttributes, {\r\n            onSuccess: function(result) {},\r\n            onFailure: function(error) {\r\n              reject(error);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  getLoggedUser() {\r\n    return new Promise((resolve, reject) => {\r\n      var cognitoUser = this.userPool.getCurrentUser();\r\n\r\n      if (cognitoUser != null) {\r\n        cognitoUser.getSession(function(err, result) {\r\n          if (result) {\r\n            resolve(result.getIdToken().getJwtToken());\r\n          } else {\r\n            reject(err);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/cognito-service/cognito-service.ts"],"sourceRoot":""}